FROM python:3.11-slim

WORKDIR /backend

# copy requirements then install
COPY backend/requirements.txt ./requirements.txt
RUN pip install --no-cache-dir -r requirements.txt


COPY backend/wsgi.py ./wsgi.py

# copy app code
COPY backend/app ./app/

ENV FLASK_APP=api.py


EXPOSE 5001
# CMD ["flask","run","--host=0.0.0.0","--port=5001"]
CMD ["waitress-serve","--host=0.0.0.0","--port=5001","wsgi:app"]

